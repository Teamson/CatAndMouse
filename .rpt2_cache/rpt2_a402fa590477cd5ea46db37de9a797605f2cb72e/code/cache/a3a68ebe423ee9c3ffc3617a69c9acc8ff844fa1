{
  "code": "import GameLogicCrl from \"./GameLogicCrl\";\r\nexport default class CollCrl extends Laya.Script3D {\r\n    constructor() {\r\n        super();\r\n        this.myOwner = null;\r\n        this.myDir = new Laya.Vector3(0, 0, 0);\r\n        this.startPos = new Laya.Vector3(0, 0, 0);\r\n        this.endPos = new Laya.Vector3(0, 0, 0);\r\n        this.endDistance = 4;\r\n    }\r\n    onAwake() {\r\n        this.initData();\r\n    }\r\n    onDisable() {\r\n    }\r\n    initData() {\r\n        this.myOwner = this.owner;\r\n        this.myOwner.transform.getRight(this.myDir);\r\n        Laya.Vector3.normalize(this.myDir, this.myDir);\r\n        this.startPos = this.myOwner.transform.position.clone();\r\n        let dis = new Laya.Vector3(this.myDir.x * this.endDistance, this.myDir.y * this.endDistance, this.myDir.z * this.endDistance);\r\n        Laya.Vector3.add(this.startPos, dis, this.endPos);\r\n    }\r\n    fixPos(pos, isFront) {\r\n        if (isFront) {\r\n            let dis = Laya.Vector3.distance(pos, this.startPos);\r\n            if (dis <= this.endDistance) {\r\n                return pos;\r\n            }\r\n            else {\r\n                return this.endPos;\r\n            }\r\n        }\r\n        else {\r\n            let dis = Laya.Vector3.distance(pos, this.endPos);\r\n            if (dis <= this.endDistance) {\r\n                return pos;\r\n            }\r\n            else {\r\n                return this.startPos;\r\n            }\r\n        }\r\n    }\r\n    onCollisionEnter(collision) {\r\n        console.log('enter');\r\n        let o = collision.other.owner;\r\n        if (GameLogicCrl.Share.validPointArr.indexOf(o) != -1) {\r\n            let id = GameLogicCrl.Share.validPointArr.indexOf(o);\r\n            GameLogicCrl.Share.validPointArr.splice(id, 1);\r\n        }\r\n    }\r\n    onCollisionStay(collision) {\r\n    }\r\n    onCollisionExit(collision) {\r\n        let o = collision.other.owner;\r\n        if (GameLogicCrl.Share.validPointArr.indexOf(o) == -1) {\r\n            GameLogicCrl.Share.validPointArr.push(o);\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/LayaProjects/CatAndMouse/src/Mod/Utility.ts",
    "E:/LayaProjects/CatAndMouse/src/Crl/GameLogicCrl.ts"
  ]
}
