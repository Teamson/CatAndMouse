{
  "code": "import PlayerDataMgr from \"../Libs/PlayerDataMgr\";\r\nimport TimeCountMgr from \"../Libs/TimeCountMgr\";\r\nexport default class StartUI extends Laya.Scene {\r\n    constructor() {\r\n        super();\r\n        this.powerNum = this['powerNum'];\r\n        this.coinNum = this['coinNum'];\r\n        this.gradeNum = this['gradeNum'];\r\n        this.gradeBar = this['gradeBar'];\r\n        this.powerTime = this['powerTime'];\r\n        this.startBtn = this['startBtn'];\r\n        this.signBtn = this['signBtn'];\r\n        this.skinBtn = this['skinBtn'];\r\n    }\r\n    onOpened(param) {\r\n        this.startBtn.on(Laya.Event.CLICK, this, this.startBtnCB);\r\n        this.signBtn.on(Laya.Event.CLICK, this, this.signBtnCB);\r\n        this.skinBtn.on(Laya.Event.CLICK, this, this.skinBtnCB);\r\n        this.gradeNum.value = PlayerDataMgr.getPlayerData().grade.toString();\r\n        Laya.timer.frameLoop(1, this, this.updateCB);\r\n    }\r\n    onClosed() {\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    startBtnCB() {\r\n        if (PlayerDataMgr.getPlayerData().power <= 0) {\r\n            Laya.Scene.open('MyScenes/PowerUI.scene', false);\r\n            return;\r\n        }\r\n        PlayerDataMgr.decPower();\r\n        Laya.Scene.open('MyScenes/GameUI.scene');\r\n    }\r\n    signBtnCB() {\r\n    }\r\n    skinBtnCB() {\r\n    }\r\n    updateCB() {\r\n        this.calculatePowerTime();\r\n        this.coinNum.value = PlayerDataMgr.getPlayerData().coin.toString();\r\n    }\r\n    calculatePowerTime() {\r\n        let t = TimeCountMgr.Share.tCount;\r\n        let m = Math.floor(t / 60);\r\n        let s = Math.floor(t - m * 60);\r\n        this.powerTime.text = m.toString() + ':' + s.toString();\r\n        this.powerNum.value = PlayerDataMgr.getPlayerData().power.toString();\r\n        this.powerTime.visible = PlayerDataMgr.getPlayerData().power < PlayerDataMgr.powerMax;\r\n    }\r\n}\r\n",
  "references": [
    "E:/LayaProjects/CatAndMouse/src/Libs/PlayerDataMgr.ts",
    "E:/LayaProjects/CatAndMouse/src/Libs/WxApi.ts",
    "E:/LayaProjects/CatAndMouse/src/Libs/TimeCountMgr.ts"
  ]
}
