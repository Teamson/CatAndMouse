{
  "code": "import WxApi from \"../Libs/WxApi\";\r\nimport MouseScript from \"../Libs/MouseScript\";\r\nexport default class GameLogicCrl {\r\n    constructor() {\r\n        this._Cat = null;\r\n        this._Mouse = null;\r\n        this.currentCollNode = null;\r\n        this.currentPointsNode = null;\r\n        this.catStartPos = null;\r\n        this.mouseStartPos = null;\r\n        GameLogicCrl.Share = this;\r\n        Laya.Scene.open('MyScenes/LoadingUI.scene');\r\n    }\r\n    initScene() {\r\n        Laya.Scene3D.load(WxApi.UnityPath + 'Scene1.ls', Laya.Handler.create(this, this.onLoadScene));\r\n    }\r\n    onLoadScene(scene) {\r\n        this._scene = Laya.stage.addChild(scene);\r\n        Laya.stage.setChildIndex(this._scene, 0);\r\n        this._camera = this._scene.getChildByName('Main Camera');\r\n        this._light = this._scene.getChildByName('Directional Light');\r\n        this.createGameScene();\r\n    }\r\n    createGameScene() {\r\n        let sceneRes = Laya.loader.getRes(WxApi.UnityPath + 'Scene1.lh');\r\n        let scene = Laya.Sprite3D.instantiate(sceneRes, this._scene, false, new Laya.Vector3(0, 0, 0));\r\n        this.currentCollNode = scene.getChildByName('CollNode');\r\n        this.currentPointsNode = scene.getChildByName('PointNode');\r\n        this.catStartPos = scene.getChildByName('CatPos').transform.position.clone();\r\n        this.mouseStartPos = scene.getChildByName('MousePos').transform.position.clone();\r\n        this.createCatAndMouse();\r\n        this.addMouseScript();\r\n    }\r\n    createCatAndMouse() {\r\n        let CatRes = Laya.loader.getRes(WxApi.UnityPath + 'Cat.lh');\r\n        this._Cat = Laya.Sprite3D.instantiate(CatRes, this._scene, false, new Laya.Vector3(0, 0, 0));\r\n        this._Cat.transform.position = this.catStartPos.clone();\r\n        let MouseRes = Laya.loader.getRes(WxApi.UnityPath + 'Mouse.lh');\r\n        this._Mouse = Laya.Sprite3D.instantiate(MouseRes, this._scene, false, new Laya.Vector3(0, 0, 0));\r\n        this._Mouse.transform.position = this.mouseStartPos.clone();\r\n    }\r\n    addMouseScript() {\r\n        for (let i = 0; i < this.currentCollNode.numChildren; i++) {\r\n            this.currentCollNode.getChildAt(i).addComponent(MouseScript);\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/LayaProjects/CatAndMouse/src/Libs/WxApi.ts",
    "E:/LayaProjects/CatAndMouse/src/Libs/MouseScript.ts"
  ]
}
