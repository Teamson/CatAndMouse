{
  "code": "import WxApi from \"../Libs/WxApi\";\r\nimport CollCrl from \"./CollCrl\";\r\nimport Mouse from \"./Mouse\";\r\nimport PosCrl from \"./PosCrl\";\r\nexport default class GameLogicCrl {\r\n    constructor() {\r\n        this._Cat = null;\r\n        this._MouseNode = null;\r\n        this.currentCollNode = null;\r\n        this.currentPointsNode = null;\r\n        this.currentPosNode = null;\r\n        this.validPointArr = [];\r\n        GameLogicCrl.Share = this;\r\n        Laya.Scene.open('MyScenes/LoadingUI.scene');\r\n    }\r\n    initScene() {\r\n        Laya.Scene3D.load(WxApi.UnityPath + 'Scene1.ls', Laya.Handler.create(this, this.onLoadScene));\r\n    }\r\n    onLoadScene(scene) {\r\n        this._scene = Laya.stage.addChild(scene);\r\n        Laya.stage.setChildIndex(this._scene, 0);\r\n        this._camera = this._scene.getChildByName('Main Camera');\r\n        this._light = this._scene.getChildByName('Directional Light');\r\n        this.createGameScene();\r\n        this.addCollComponents();\r\n        this.addPosComponents();\r\n    }\r\n    createGameScene() {\r\n        let sceneRes = Laya.loader.getRes(WxApi.UnityPath + 'Scene1.lh');\r\n        let scene = Laya.Sprite3D.instantiate(sceneRes, this._scene, false, new Laya.Vector3(0, 0, 0));\r\n        this._Cat = scene.getChildByName('Cat');\r\n        this._MouseNode = scene.getChildByName('MouseNode');\r\n        this.currentCollNode = scene.getChildByName('CollNode');\r\n        this.currentPointsNode = scene.getChildByName('PointNode');\r\n        this.currentPosNode = scene.getChildByName('PosNode');\r\n        for (let i = 0; i < this._MouseNode.numChildren; i++) {\r\n            let mouse = this._MouseNode.getChildAt(i);\r\n            mouse.addComponent(Mouse);\r\n        }\r\n    }\r\n    addCollComponents() {\r\n        for (let i = 0; i < this.currentCollNode.numChildren; i++) {\r\n            let coll = this.currentCollNode.getChildAt(i);\r\n            coll.addComponent(CollCrl);\r\n        }\r\n    }\r\n    addPosComponents() {\r\n        for (let i = 0; i < this.currentPosNode.numChildren; i++) {\r\n            let pos = this.currentPosNode.getChildAt(i);\r\n            let crl = pos.addComponent(PosCrl);\r\n            let name = pos.name;\r\n            let id = parseInt(name.substr(0, 1));\r\n            crl.myId = id - 1;\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/LayaProjects/CatAndMouse/src/Libs/WxApi.ts",
    "E:/LayaProjects/CatAndMouse/src/Crl/CollCrl.ts",
    "E:/LayaProjects/CatAndMouse/src/Crl/Mouse.ts",
    "E:/LayaProjects/CatAndMouse/src/Crl/PosCrl.ts"
  ]
}
